<h1>yadlib.yab</h1>

<h2>yad has stopped working on my development system - development stalled until I can figure out what is going on.</h2>

<p>A yabasic library (c) Michel Clasquin-Johnson 2018. <br />
Licensed according to the MIT license</p>

<p>If you are reading this as a man page, be advised that you can see it in glorious HTML, with pictures even, at https://clasqm.github.io/</p>

<p>This library for <em>yabasic</em> allows the use of the Linux command <em>yad</em> to display a variety of dialogs in graphical mode.</p>

<p>The library will test for the presence of the yad command and will exit gracefully if it is not present.yad is a GTK program, so the colours and styles will follow that of your GNOME defaults. It may also take a moment or two to pop up - there are a lot of libraries to load! If speed is of the essence, stick to the <em>dialog</em>, <em>clasquinator</em> or <em>whiptail</em> libraries.</p>

<p>The entire set of libraries focuses on sane defaults and getting basic functionality into yabasic. There are a lot of options that will not be implemented!</p>

<p>The images below are for illustration only. The exact appearance of the dialogs will depend on your system settings.</p>

<p>Developed on elementary OS 0.4 "Loki" and Lubuntu 18.04 (i.e. Linux), but it should work on any system that will run both yabasic and the yad command.</p>

<p>The library should exist either in the same folder as your program or in the standard yabasic library location on your system.</p>

<p>To use the library, use the command</p>

<pre><code>import yadlib
</code></pre>

<p>If you would rather cut and paste these subroutines into your own program rather than importing this rather large library, or create your own, smaller library with just the routines you need, be my guest (I <em>would</em> appreciate a note of acknowledgement in your code). But some subroutines require supporting routines that you will find at the end of this library. You will have to include those as well.</p>

<p>You should <strong>not</strong> use this library and one of the others that provides dialogs in this set concurrently, because they replicate subroutine names. Pick the right one for your program and stick with it!</p>

<p><em>Yad</em> is a fork of <em>zenity</em> and this early version of the library just adapts the routines in <em>zenitylib</em>. Later on, we will dig into <em>yad</em>'s unique features.</p>

<h3>Common Routines</h3>

<p><strong>These routines are available on any of the four dialog-providing libraries.</strong></p>

<ul>
<li><p><strong>ClearDlg</strong>() - on dialog and whiptail, this clears the dialog from your terminal. Same as the yabasic command CLEAR SCREEN, but may work better if you are expecting to issue another Linux command immediately. On yad, zenity and kdialog, dummy routines are provided for compatibility so that you do not need to rewrite your code.</p></li>
<li><p><strong>EncloseText$</strong>(thestring$) - A simplified version of the <em>EncloseString$</em>() routine that can be found in the linuxmisclib library</p>

<ul>
<li>Encloses a string in double quotes, if it isn't already.</li>
<li>Therefore <em>a$ = EncloseText$("This is text")</em> gives the same result as <em>a$ = "\"This is text\""</em>
<ul>
<li>Mostly for use with filenames that may include spaces.</li>
</ul></li>
</ul></li>
<li><p><strong>getcmd$</strong>() - returns the command set available.</p>

<ul>
<li>This is really just for me, to stop me from getting confused while I am editing four libraries simultaneously.
<ul>
<li>However, you could use it to test which utility (or library, in the case of clasquinator) is currently in use and if it is safe to use routines not in the common list.</li>
</ul></li>
<li>e.g, <em>if getcmd$() = "clasquinator" SubmenuDlg(options ....)</em></li>
<li>or  <em>if getcmd$() = "yad" YNotifyDlg("this is a notification")</em></li>
</ul></li>
</ul>

<p>~~+ <strong>InputDlg$</strong>(text$, title$, ok$, cancel$) - Presents a one-line dialog into which the user can type a string answer.~~</p>

<p>~~+ <strong>MenuDlg</strong>(text$, title$, ok$, cancel$, menustring$) - Create a menu of options for the user to choose from~~</p>

<p>~~+ <strong>MessageDlg</strong>(text$, ok$) - display a simple message with an OK button.~~</p>

<p>~~+ <strong>PasswordDlg$</strong>(text$, title$, ok$, cancel$) - Same as <em>InputDlg$</em> but with asterisks replacing the input text.~~</p>

<p>~~+ <strong>RadioDlg</strong>(text$, title$, ok$, cancel$, menustring$, selected$) - Create a menu of options for the user to choose from~~</p>

<ul>
<li><strong>TestForDialogUtility\$</strong>() - Routine to test if the called utility actually exists on the system. An empty string returned means it does, otherwise an error message is returned.</li>
</ul>

<p>~~+ <strong>TextFileDlg</strong>(filename$, title$, exit$) - Displays a text file.~~</p>

<p>~~+ <strong>YesNoDlg</strong>(text$,yes$, no$) - Displays a dialog with text (normally a question) and the options to reply yes or no.~~
~~### yad-specific routines~~</p>

<p>~~<strong>These routines will only work with yad, unless specified otherwise.</strong>~~</p>

<p>~~+ <strong>YCalendarDlg$</strong>(text$, ok$, cancel$) - Display a calendar widget with today's date pre-selected.~~</p>

<p>~~+ <strong>YGetDirDlg$</strong>() - Select a directory to open.~~
~~+ <strong>YNotifyDlg</strong>(text$) - pop up a GTK notification.~~
~~+ <strong>YOpenFileDlg$</strong>() - Select a file to open.~~
~~+ <strong>YSaveFileDlg$</strong>() - Select or create a file to save.~~</p>
